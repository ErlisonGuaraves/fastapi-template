# ===============================
# ðŸ“¦ Projeto e Metadados BÃ¡sicos
# ===============================
[project]
name = "fast-zero"  # Nome do projeto
version = "0.1.0"   # VersÃ£o inicial
description = ""    # DescriÃ§Ã£o opcional do projeto
authors = [
    { name = "erlison.santos", email = "erlison.santos@guaraves.com.br" }
]
readme = "README.md"  # Caminho para o arquivo README
requires-python = ">=3.13, <4.0"  # VersÃ£o mÃ­nima e mÃ¡xima suportada do Python

# ðŸ§© DependÃªncias principais do projeto
dependencies = [
    "fastapi[standard] (>=0.115.12,<0.116.0)",   # ðŸš€ FastAPI para APIs modernas
    "uvicorn[standard] (>=0.34.2,<0.35.0)"       # âš¡ Uvicorn como servidor ASGI
]

# =====================================
# ðŸ› ï¸ Sistema de Build com Poetry
# =====================================
[build-system]
requires = ["poetry-core>=2.0.0,<3.0.0"]
build-backend = "poetry.core.masonry.api"

# ======================================
# ðŸ§ª DependÃªncias de Desenvolvimento
# ======================================
[tool.poetry.group.dev.dependencies]
ruff = "^0.11.9"         # ðŸ§¹ Linter e formatador de cÃ³digo
pytest-cov = "^6.1.1"    # ðŸ§ª Cobertura de testes com Pytest

# ===============================
# ðŸ§¹ ConfiguraÃ§Ãµes do Ruff (Linter)
# ===============================
taskipy = "^1.14.1"
[tool.ruff]
line-length = 79                       # ðŸ“ Limite de caracteres por linha
extend-exclude = ['migrations']       # âŒ Ignorar a pasta de migraÃ§Ãµes

# ðŸŽ¨ Estilo de formataÃ§Ã£o com Ruff
[tool.ruff.format]
preview = true                        # ðŸ§ª Ativa recursos experimentais
quote-style = 'single'                # ðŸ§¾ Usar aspas simples por padrÃ£o

# ===============================
# ðŸ”¬ ConfiguraÃ§Ãµes do Pytest
# ===============================
[tool.pytest.ini_options]
pythonpath = "."                      # ðŸ“‚ Define diretÃ³rio base para os testes
addopts = "-p no:warnings"            # ðŸš« Oculta avisos nos testes

# ===============================
# ðŸš€ Tarefas Automatizadas (Taskipy)
# ===============================
[tool.taskipy.tasks]
lint       = "ruff check"                                      # ðŸ” Verifica problemas no cÃ³digo
pre_format = "ruff check --fix"                                # ðŸ› ï¸ Corrige automaticamente antes da formataÃ§Ã£o
format     = "ruff format"                                     # ðŸŽ¨ Aplica formataÃ§Ã£o ao cÃ³digo
run        = "fastapi dev fast_zero/app.py"                    # â–¶ï¸ Roda a aplicaÃ§Ã£o FastAPI
pre_test   = "task lint"                                       # âœ… Lint automÃ¡tico antes dos testes
test       = "pytest -s -x --cov=fast_zero -vv"                # ðŸ§ª Roda testes com cobertura
post_test  = "coverage html"                                   # ðŸ“Š Gera relatÃ³rio de cobertura em HTML
